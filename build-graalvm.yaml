steps:
  # Build the project GraalVM executable
  - name: 'vegardit/graalvm-maven:17.0.7'
    entrypoint: mvn
    args:
      - 'package'
      - '-Dpackaging=native-image'
  # Deploy the built executable to App Engine (by App Engine compatible builder, shipped with python)
  - name: 'gcr.io/cloud-builders/mvn:appengine'
    entrypoint: mvn
    args:
      - 'appengine:deploy'
      - '-Dapp.stage.artifact=target/app-engine-micronaut'